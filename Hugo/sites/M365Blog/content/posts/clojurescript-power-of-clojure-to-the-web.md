---
title: 'ClojureScript - Power of Clojure to the web'
date: Fri, 01 Jan 2016 12:10:30 +0000
draft: false
tags: ['clojurescript', 'clojurescript react reagent', 'Functional Programming', 'React', 'reagent', 'Uncategorized']
---

[ClojureScript](http://clojure.org/clojurescript) is a compiler for [Clojure](http://clojure.org/) that targets JavaScript. It is designed to emit JavaScript code which is compatible with the advanced compilation mode of the [Google Closure](http://code.google.com/closure/) optimizing compiler. **Why ClojureScript?**

*   Allows to use functional programming.
*   Uses Immutable data structures. (Immutable.js library is available to enable use of immutable data structures with JavaScript. Watch [Christian Johansen's talk on Immutable JavaScript](https://www.youtube.com/watch?v=wA98Coal4jk))
*   Uses [Google Closure Compiler](http://code.google.com/closure/) : advanced code compiling with dead code elimination
*   core.async: makes ajax asynchronous call look like synchronous without the use of callbacks
*   Om/React : React provides a functional approach for rendering DOM. Using ClojureScript and React makes some tasks , for example undo quite simple

A great tutorial to follow to learn ClojureScript is [http://clojure.org/clojurescript](https://www.niwi.nz/cljs-workshop/) which covers the basics of ClojureScript, environment set up with the use of [Leiningen](http://leiningen.org/) project, DOM interaction, routing,AJAX call, core.async, Om/React, browser enabled REPL and more. The difference between JavaScript and ClojureScript is described in [Compare ClojureScript with JavaScript](http://himera.herokuapp.com/synonym.html). Below is an example how to create an object in JavaScript and ClojureScript. **Create object in JavaScript** `var foo = {foo: "bar"};` **Create objects in ClojureScript** ;; Create JavaScript objects with \`js-obj\`. `(def foo (js-obj "foo" "bar"))` ;; ClojureScript supports  JavaScript data literals via the \`#js\` reader literal. `(def foo #js {"foo" "bar"})` ;; It's important to note that \`#js\` is shallow, the contents of ;;\`#js\` will be ClojureScript data unless preceded by \`#js\`. ;; This is a mutable JavaScript object with an immutable ;; ClojureScript object inside. `(def foo #js {"foo" "bar"})` Since I am using LightTable as the IDE,  [an introduction to clojureScript to LightTable users is useful](https://github.com/swannodette/lt-cljs-tutorial/blob/master/lt-cljs-tutorial.cljs). If you are using a Windows machine, use ctrl + enter instead of command +ENTER to evaluate each form. I got hooked up with the use of [React](https://facebook.github.io/react/) with ClojureScript. The following interfaces are available to integrate React

*   [OM](https://github.com/omcljs/om) - I found the [basic tutorial to OM](https://github.com/omcljs/om/wiki/Basic-Tutorial) useful to understand the syntax of OM/React. It also describes how to use [Figwheel,](https://github.com/bhauman/lein-figwheel) a tool which reloads code in the browser without refreshing the page.
*   [Quiescent](//github.com/levand/quiescent)
*   [Reagent](https://github.com/reagent-project/reagent)

The advantages and disadvantages of each of the above interface are described in ["How to use React in ClojureScript, and why"](http://blog.peeja.com/blog/2014/10/01/react-four-ways-how-to-use-react-in-clojurescript/) Furthermore [external JavaScript libraries](http://cljsjs.github.io/) can be integrated with ClojureScript with the use of :foreign-libs option. **Building Single Page App "SimpleCalculator" with Reagent, Secretary and Accountant ** I followed the [figwheel](https://github.com/bhauman/lein-figwheel) tutorial to create a project based on figwheel leiningen template. `lein new figwheel SimpleCalculator` It automatically creates a directory "SimpleCalculator".   Open the folder using Light Table. It has the following structure. ![figwheelFolderStruc](https://reshmeeauckloo.files.wordpress.com/2015/12/figwheelfolderstruc.jpg) Open project.clj and add the following dependencies `[reagent "0.5.1" :exclusions [org.clojure/tools.reader]] [reagent-forms "0.5.13"] [reagent-utils "0.1.7"] [secretary "1.2.3"] [venantius/accountant "0.1.6" :exclusions [org.clojure/tools.reader]]` The dependencies tag look like ![dependencies](https://reshmeeauckloo.files.wordpress.com/2015/12/dependencies.jpg) Reagent is the interface for React in ClojureScript. [Secretary](https://github.com/gf3/secretary) is client side router for ClojureScript. [Accountant](https://github.com/venantius/accountant) makes navigation simple by triggering dispatches to Secretary defined routers and update browser's path without a page reload. Open Index.html file. Add the h3 tag above the "app" div. `<h3> Welcome to calculators</h3>` The Index.html will look like ![Index](https://reshmeeauckloo.files.wordpress.com/2016/01/index.jpg) Open core.cljs  and copy and paste the code. https://gist.github.com/reshmee011/1f71c06f23d530c5de07 To run the application type `lein figwheel` ![lein_Figwheel](https://reshmeeauckloo.files.wordpress.com/2016/01/lein_figwheel.jpg) From the browser navigate to http://localhost:3449 The Maths Calculator is displayed by default ![Maths_Calc](https://reshmeeauckloo.files.wordpress.com/2016/01/maths_calc.jpg) Click on BMI link to load the BMI calculator ![BMI_Calc](https://reshmeeauckloo.files.wordpress.com/2016/01/bmi_calc.jpg) The BMI calculation code has been taken from ["Reagent: Minimalistic React for ClojureScript"](https://holmsand.github.io/reagent) Click on Pension Age link to load Pension Age calculator ![StateAgeCalc](https://reshmeeauckloo.files.wordpress.com/2016/01/stateagecalc.jpg)